{
  "schemaVersion": 2,
  "dockerfileLines": [

                        # Use a imagem oficial do Node como base
                        "FROM node:18",
                        
                        # Crie e defina o diretório de trabalho na imagem
                        "WORKDIR /usr/src/app",
                        
                        # Copie os arquivos de dependências e o arquivo de definição de pacote para o diretório de trabalho
                        "COPY package*.json ./",
                        
                        # Instale as dependências do projeto
                        "RUN npm install",
                        
                        # Copie o restante do código-fonte para o diretório de trabalho na imagem
                        "COPY . .",

                        "RUN npm install && npm cache clean --force",
                        "RUN npm install nest -g && npm cache clean --force",
                        
                        # Exponha a porta na qual a aplicação estará em execução
                        "EXPOSE 3000",
                        
                        # Defina a variável de ambiente para produção (opcional, dependendo da configuração do NestJS)
                        "ENV NODE_ENV=production",
                        
                        # Comando para iniciar a aplicação quando o contêiner for iniciado
                        "CMD [ \"npm\", \"run\", \"start:prod\" ]"
                    ]
 }
